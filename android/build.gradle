buildscript {
  repositories {
    google()
    mavenCentral()
    // Solución explícita para el error Could not resolve:
    maven { url "https://maven.google.com/" }
  }
  dependencies {
    classpath 'com.android.tools.build:gradle:8.7.2'
    classpath 'com.google.gms.google-services:4.4.2'
  }
}

apply from: "variables.gradle"

allprojects {
  repositories {
    google()
    mavenCentral()
    // Solución explícita para el error Could not resolve:
    maven { url "https://maven.google.com/" }
  }
}

// Bloque que soluciona el error 'invalid source release: 21' forzando Java 17
subprojects {
  afterEvaluate { project ->
    if (project.hasProperty('android')) {
      android.compileOptions {
        sourceCompatibility JavaVersion.VERSION_17
        targetCompatibility JavaVersion.VERSION_17
      }
    }
  }
}

task clean(type: Delete) {
  delete rootProject.buildDir
}
